👌 明白了，我把你的提示和我对题目的解析结合起来，给你整理一个完整的 **参数 / 数据 + 规则** 汇总版本（既方便建模思路，又便于写报告）。

---

# 📌 数学建模题目参数与规则整理

## 一、基本对象与坐标系

* **坐标系**：三维直角坐标系，水平面为 $xy$ 平面，$z$ 轴垂直向上。
* **假目标**：圆柱体，圆心在原点 $(0,0,0)$。
* **真目标**：圆柱体，半径 $7$ m，高 $10$ m，下底面圆心 $(0,200,0)$。

---

## 二、导弹参数

1. **数量**：3 枚 $(M_1,M_2,M_3)$。
2. **初始位置**：

   * $M_1(20000,0,2000)$
   * $M_2(19000,600,2100)$
   * $M_3(18000,-600,1900)$
3. **速度**：$300$ m/s。
4. **飞行方向**：直指假目标 $(0,0,0)$，即初始位置与原点连线方向，三维方向向量需单位化。

   $$
   \vec{v}_M = 300 \cdot \frac{(0-x_0,0-y_0,0-z_0)}{\sqrt{(x_0^2+y_0^2+z_0^2)}}
   $$
5. **轨迹公式**：

   $$
   \vec{r}_M(t) = \vec{r}_M(0) + \vec{v}_M \cdot t
   $$
6. **体积忽略**：导弹视为质点。

---

## 三、无人机参数

1. **数量**：5 架 ($FY_1\sim FY_5$)。
2. **初始位置**：

   * $FY_1(17800,0,1800)$
   * $FY_2(12000,1400,1400)$
   * $FY_3(6000,-3000,700)$
   * $FY_4(11000,2000,1800)$
   * $FY_5(13000,-2000,1300)$
3. **飞行调整规则**：

   * 接收任务时可瞬时调整飞行方向；
   * 一旦确定方向与速度，保持 **等高度、匀速直线飞行**；
   * 即 $z$ 坐标保持不变，$y$ 坐标随时间线性变化，不可再改变。
4. **飞行速度**：70–140 m/s，可自由选择。
5. **轨迹公式**：

   $$
   \vec{r}_{FY}(t) = \vec{r}_{FY}(0) + \vec{v}_{FY} \cdot t, \quad z=\text{常数}
   $$

---

## 四、烟幕干扰弹参数

1. **投放规则**：

   * 每架无人机最多投 3 枚；
   * 每投两枚之间必须 **间隔 ≥ 1 s**。
2. **初始速度**：投放瞬间，速度与无人机完全一致。
3. **运动规律**：

   * 水平方向：保持与无人机相同速度；
   * 竖直方向：受重力影响，$z$ 随时间做自由落体运动：

     $$
     z(t) = z_0 + v_{z0} \cdot t - \tfrac{1}{2} g t^2 \quad (g \approx 9.8 \, m/s^2)
     $$
4. **起爆规则**：

   * 投放后，延时（由引信控制）到达某时刻起爆；
   * 起爆点即该时刻烟幕弹所在坐标。
5. **起爆后云团特性**：

   * 形态：半径 $10$ m 的球体；
   * 有效遮蔽时间：起爆后 $20$ s 内；
   * 运动：整体以 $3$ m/s 匀速下沉：

     $$
     z_c(t) = z_{\text{爆}} - 3 \cdot (t-t_{\text{爆}})
     $$

---

## 五、遮蔽判定规则

1. **保护目标**：真目标 $(0,200,0)$ 的圆柱体。
2. **遮蔽原理**：

   * 不是云团覆盖真目标，而是云团遮挡了 **导弹与真目标的连线**；
   * 即某时刻，导弹位置 $M(t)$ 与真目标中心 $T$ 的连线与任一云团球体有交集。
3. **判定方法**：

   * 设导弹位置 $M(t)$，真目标参考点 $T$；
   * 连线 $MT$ 与球体中心 $C(t)$ 的最小距离 $\leq 10$ m，则该时刻被遮蔽。
4. **遮蔽时间**：统计所有满足条件的时间区间长度，可不连续。

---

## 六、各子问题附加条件

* **问题 1**：

  * $FY_1$，速度固定 $120$ m/s，方向指向假目标；
  * 受领任务 $1.5$ s 后投放；
  * 投放后 $3.6$ s 起爆；
  * 求对 $M_1$ 的有效遮蔽时长。

* **问题 2**：

  * $FY_1$，飞行方向、速度、投放点、起爆点可自由选择；
  * 目标：遮蔽时间尽可能长。

* **问题 3**：

  * $FY_1$ 投放 3 枚；
  * 输出投放策略，保存到 `result1.xlsx`。

* **问题 4**：

  * $FY_1,FY_2,FY_3$ 各投 1 枚；
  * 输出投放策略，保存到 `result2.xlsx`。

* **问题 5**：

  * 5 架无人机，每架最多 3 枚；
  * 同时干扰 $M_1,M_2,M_3$；
  * 输出投放策略，保存到 `result3.xlsx`。

---



# 🔹 遮蔽判定公式推导

## 烟幕遮蔽条件数学建模总结

### 建模过程文字论证

遮蔽条件的核心是判断烟幕云团是否在导弹和真目标的视线路径上形成有效阻断。基于几何光学原理，当烟幕云团位于导弹M(t)和真目标T的连线之间，且距离连线足够近时（小于有效半径），即可实现遮蔽。具体建模过程如下：

1. **建立运动模型**：首先确定导弹、无人机和烟幕弹的运动轨迹
2. **定义关键几何要素**：导弹位置M(t)，真目标T，烟幕云团中心C(t)
3. **计算点到线段距离**：求解烟幕云团到线段MT的最短距离
4. **确定遮蔽条件**：结合几何条件（距离≤半径）和时间条件（有效窗口）
5. **计算遮蔽时长**：统计满足条件的连续时间区间

### 关键数学公式

#### 1. 坐标系定义
- 假目标：原点 $O(0,0,0)$
- 真目标：$T(0,200,0)$

#### 2. 导弹运动模型
$$
M(t) = M_0 + \mathbf{v}_m t
$$
$$
\mathbf{v}_m = -300 \frac{M_0}{\|M_0\|}
$$

#### 3. 烟幕云团运动模型
$$
C(t) = (x_b, y_b, z_b - 3(t - t_b)), \quad t \in [t_b, t_b + 20]
$$

#### 4. 点到线段距离计算
定义向量：
$$
\overrightarrow{AB} = B - A, \quad \overrightarrow{AP} = P - A
$$
投影参数：
$$
u = \frac{\overrightarrow{AP} \cdot \overrightarrow{AB}}{\|\overrightarrow{AB}\|^2}
$$
距离函数：
$$
d(t) = 
\begin{cases} 
\|\overrightarrow{AP}\| & u < 0 \\
\|P - B\| & u > 1 \\
\frac{\| \overrightarrow{AP} \times \overrightarrow{AB} \|}{\|\overrightarrow{AB}\|} & 0 \leq u \leq 1 
\end{cases}
$$

#### 5. 遮蔽条件
$$
\text{遮蔽有效} \iff 
\begin{cases} 
t \in [t_b, t_b + 20] \\
d(t) \leq R \quad (R=10) \\
0 \leq u \leq 1 
\end{cases}
$$

#### 6. 烟幕弹弹道模型
$$
P_{\text{弹}}(t) = 
\begin{pmatrix} x_d \\ y_d \\ z_d \end{pmatrix} + 
\mathbf{v}_u (t - t_d) + \frac{1}{2} \mathbf{g} (t - t_d)^2
$$
其中 $\mathbf{g} = (0,0,-g)$, $g=9.8 \text{m/s}^2$

#### 7. 遮蔽时长计算
单弹有效遮蔽：
$$
T_{\text{eff}} = \int_{t_b}^{t_b+20} \mathbf{1}_{\{d(t) \leq 10 \text{ and } 0 \leq u \leq 1\}}  dt
$$
多弹总遮蔽：
$$
T_{\text{total}} = \mu \left( \bigcup_{k=1}^{N} \mathcal{T}_k \right)
$$
其中 $\mathcal{T}_k$ 为第k个云团的遮蔽时间集合

### 公式索引表

| 公式编号 | 公式描述 | 数学表达式 |
|---------|---------|-----------|
| 1 | 导弹位置函数 | $M(t) = M_0 + \mathbf{v}_m t$ |
| 2 | 导弹速度向量 | $\mathbf{v}_m = -300 \frac{M_0}{\|M_0\|}$ |
| 3 | 云团运动方程 | $C(t) = (x_b, y_b, z_b - 3(t - t_b))$ |
| 4 | 投影参数 | $u = \frac{\overrightarrow{AP} \cdot \overrightarrow{AB}}{\|\overrightarrow{AB}\|^2}$ |
| 5 | 点到线段距离 | $d(t) = \begin{cases} \|\overrightarrow{AP}\| & u<0 \\ \|P-B\| & u>1 \\ \frac{\|\overrightarrow{AP} \times \overrightarrow{AB}\|}{\|\overrightarrow{AB}\|} & 0\leq u\leq1 \end{cases}$ |
| 6 | 烟幕弹轨迹 | $P_{\text{弹}}(t) = \begin{pmatrix} x_d \\ y_d \\ z_d \end{pmatrix} + \mathbf{v}_u (t - t_d) + \frac{1}{2} \mathbf{g} (t - t_d)^2$ |
| 7 | 单弹遮蔽时间 | $T_{\text{eff}} = \int_{t_b}^{t_b+20} \mathbf{1}_{\text{遮蔽条件}} dt$ |
| 8 | 多弹总遮蔽时间 | $T_{\text{total}} = \mu \left( \bigcup_{k=1}^{N} \mathcal{T}_k \right)$ |

### 建模要点说明

1. **运动学精确性**：模型考虑了重力对烟幕弹轨迹的影响（抛物线运动）和云团下沉特性
2. **几何完备性**：通过点到线段的距离计算，确保烟幕云团位于导弹和目标的连线之间
3. **时间有效性**：限定遮蔽在起爆后20秒内有效
4. **物理可实现性**：满足无人机速度范围、投放间隔等工程约束
5. **计算可行性**：距离公式采用分段函数，便于数值实现

---

## 数据


### 烟幕干扰弹投放策略题目原始参数/数据表

| 参数类别 | 参数名称 | 参数值/描述 | 备注 |
| :--- | :--- | :--- | :--- |
| **通用参数** | 烟幕云团下沉速度 | $3$ m/s | 匀速下沉 |
| | 有效遮蔽半径 | $10$ m | 以云团中心为球心 |
| | 有效遮蔽持续时间 | $20$ s | 从起爆开始计时 |
| | 无人机投弹最小间隔 | $\geq 1$ s | |
| | 无人机速度范围 | $70 \sim 140$ m/s | 等高速匀速直线飞行 |
| **目标信息** | 假目标位置 | $(0, 0, 0)$ | 坐标原点 |
| | 真目标位置 | $(0, 200, 0)$ | 圆柱体下底面圆心，半径$7$m，高$10$m |
| | 导弹飞行速度 | $300$ m/s | 飞行方向直指假目标 |
| **初始位置 (警戒雷达发现时)** | 导弹 $M_1$ | $(20000, 0, 2000)$ | |
| | 导弹 $M_2$ | $(19000, 600, 2100)$ | |
| | 导弹 $M_3$ | $(18000, -600, 1900)$ | |
| | 无人机 $FY_1$ | $(17800, 0, 1800)$ | |
| | 无人机 $FY_2$ | $(12000, 1400, 1400)$ | |
| | 无人机 $FY_3$ | $(6000, -3000, 700)$ | |
| | 无人机 $FY_4$ | $(11000, 2000, 1800)$ | |
| | 无人机 $FY_5$ | $(13000, -2000, 1300)$ | |
| **问题1特定参数** | 所用无人机 | $FY_1$ | |
| | 无人机飞行速度 | $120$ m/s | |
| | 无人机飞行方向 | 朝向假目标 | |
| | 受领任务后投放延迟 | $1.5$ s | |
| | 投放后起爆延迟 | $3.6$ s | |