👌 明白了，我把你的提示和我对题目的解析结合起来，给你整理一个完整的 **参数 / 数据 + 规则** 汇总版本（既方便建模思路，又便于写报告）。

---

# 📌 数学建模题目参数与规则整理

## 一、基本对象与坐标系

* **坐标系**：三维直角坐标系，水平面为 $xy$ 平面，$z$ 轴垂直向上。
* **假目标**：圆柱体，圆心在原点 $(0,0,0)$。
* **真目标**：圆柱体，半径 $7$ m，高 $10$ m，下底面圆心 $(0,200,0)$。

---

## 二、导弹参数

1. **数量**：3 枚 $(M_1,M_2,M_3)$。
2. **初始位置**：

   * $M_1(20000,0,2000)$
   * $M_2(19000,600,2100)$
   * $M_3(18000,-600,1900)$
3. **速度**：$300$ m/s。
4. **飞行方向**：直指假目标 $(0,0,0)$，即初始位置与原点连线方向，三维方向向量需单位化。

   $$
   \vec{v}_M = 300 \cdot \frac{(0-x_0,0-y_0,0-z_0)}{\sqrt{(x_0^2+y_0^2+z_0^2)}}
   $$
5. **轨迹公式**：

   $$
   \vec{r}_M(t) = \vec{r}_M(0) + \vec{v}_M \cdot t
   $$
6. **体积忽略**：导弹视为质点。

---

## 三、无人机参数

1. **数量**：5 架 ($FY_1\sim FY_5$)。
2. **初始位置**：

   * $FY_1(17800,0,1800)$
   * $FY_2(12000,1400,1400)$
   * $FY_3(6000,-3000,700)$
   * $FY_4(11000,2000,1800)$
   * $FY_5(13000,-2000,1300)$
3. **飞行调整规则**：

   * 接收任务时可瞬时调整飞行方向；
   * 一旦确定方向与速度，保持 **等高度、匀速直线飞行**；
   * 即 $z$ 坐标保持不变，$y$ 坐标随时间线性变化，不可再改变。
4. **飞行速度**：70–140 m/s，可自由选择。
5. **轨迹公式**：

   $$
   \vec{r}_{FY}(t) = \vec{r}_{FY}(0) + \vec{v}_{FY} \cdot t, \quad z=\text{常数}
   $$

---

## 四、烟幕干扰弹参数

1. **投放规则**：

   * 每架无人机最多投 3 枚；
   * 每投两枚之间必须 **间隔 ≥ 1 s**。
2. **初始速度**：投放瞬间，速度与无人机完全一致。
3. **运动规律**：

   * 水平方向：保持与无人机相同速度；
   * 竖直方向：受重力影响，$z$ 随时间做自由落体运动：

     $$
     z(t) = z_0 + v_{z0} \cdot t - \tfrac{1}{2} g t^2 \quad (g \approx 9.8 \, m/s^2)
     $$
4. **起爆规则**：

   * 投放后，延时（由引信控制）到达某时刻起爆；
   * 起爆点即该时刻烟幕弹所在坐标。
5. **起爆后云团特性**：

   * 形态：半径 $10$ m 的球体；
   * 有效遮蔽时间：起爆后 $20$ s 内；
   * 运动：整体以 $3$ m/s 匀速下沉：

     $$
     z_c(t) = z_{\text{爆}} - 3 \cdot (t-t_{\text{爆}})
     $$

---

## 五、遮蔽判定规则

1. **保护目标**：真目标 $(0,200,0)$ 的圆柱体。
2. **遮蔽原理**：

   * 不是云团覆盖真目标，而是云团遮挡了 **导弹与真目标的连线**；
   * 即某时刻，导弹位置 $M(t)$ 与真目标中心 $T$ 的连线与任一云团球体有交集。
3. **判定方法**：

   * 设导弹位置 $M(t)$，真目标参考点 $T$；
   * 连线 $MT$ 与球体中心 $C(t)$ 的最小距离 $\leq 10$ m，则该时刻被遮蔽。
4. **遮蔽时间**：统计所有满足条件的时间区间长度，可不连续。

---

## 六、各子问题附加条件

* **问题 1**：

  * $FY_1$，速度固定 $120$ m/s，方向指向假目标；
  * 受领任务 $1.5$ s 后投放；
  * 投放后 $3.6$ s 起爆；
  * 求对 $M_1$ 的有效遮蔽时长。

* **问题 2**：

  * $FY_1$，飞行方向、速度、投放点、起爆点可自由选择；
  * 目标：遮蔽时间尽可能长。

* **问题 3**：

  * $FY_1$ 投放 3 枚；
  * 输出投放策略，保存到 `result1.xlsx`。

* **问题 4**：

  * $FY_1,FY_2,FY_3$ 各投 1 枚；
  * 输出投放策略，保存到 `result2.xlsx`。

* **问题 5**：

  * 5 架无人机，每架最多 3 枚；
  * 同时干扰 $M_1,M_2,M_3$；
  * 输出投放策略，保存到 `result3.xlsx`。

---



# 🔹 遮蔽判定公式推导

## 1. 基本要素

* **导弹位置**
  导弹从初始位置 $\vec{M}_0$ 以速度 $\vec{v}_M$ 直线飞向假目标，质点化：

  $$
  \vec{M}(t) = \vec{M}_0 + \vec{v}_M \cdot t
  $$

* **真目标参考点**
  真目标圆柱体的几何中心点（或底面圆心加高度一半）：

  $$
  \vec{T} = (0,200,5)
  $$

  （这里取 $z=5$ 作为圆柱体中心，方便建模）

* **烟幕云团**

  * 起爆时刻：$t_{\text{爆}}$；
  * 起爆位置：$\vec{C}_0$；
  * 之后以 $3$ m/s 匀速下沉：

    $$
    \vec{C}(t) = (x_0, y_0, z_0 - 3(t-t_{\text{爆}})), \quad t \geq t_{\text{爆}}
    $$
  * 有效时长：$t \in [t_{\text{爆}}, t_{\text{爆}}+20]$；
  * 半径：$R=10$ m。

---

## 2. 遮蔽条件

遮蔽的物理含义：

> 若某时刻 $t$，导弹与真目标连线 $\overline{M(t)T}$ 与烟幕球体 $S(\vec{C}(t),R)$ 有交集，则真目标被遮蔽。

数学上等价于：

* 点 $\vec{C}(t)$ 到直线段 $M(t)T$ 的最短距离 $d(t) \leq R$。
* 且最近点必须在**线段内部**（而不是无限延长线外）。

---

## 3. 点到线段的最小距离公式

已知：

* $A = M(t)$，导弹位置；
* $B = T$，真目标中心；
* $P = C(t)$，云团中心。

线段 $AB$：$\vec{AB} = \vec{B}-\vec{A}$
向量 $AP = \vec{P}-\vec{A}$

投影参数：

$$
u = \frac{AP \cdot AB}{|AB|^2}
$$

* 若 $u < 0$ → 最近点在 $A$ 之外，取 $|AP|$；
* 若 $u > 1$ → 最近点在 $B$ 之外，取 $|PB|$；
* 若 $0 \le u \le 1$ → 最近点在线段 $AB$ 上，取

  $$
  d = \frac{|AP \times AB|}{|AB|}
  $$

---

## 4. 遮蔽判定公式

在时刻 $t$，若满足以下条件，则真目标被遮蔽：

1. 云团有效：$t_{\text{爆}} \le t \le t_{\text{爆}}+20$；
2. 计算距离 $d(t)$：

   $$
   d(t) = 
   \begin{cases}
   |AP| & u < 0 \\
   |PB| & u > 1 \\
   \tfrac{|AP \times AB|}{|AB|} & 0 \le u \le 1
   \end{cases}
   $$

   其中 $A=M(t), B=T, P=C(t), AP=P-A, AB=B-A, u=\tfrac{AP\cdot AB}{|AB|^2}$；
3. 遮蔽成立条件：

   $$
   d(t) \le R
   $$

---

## 5. 遮蔽时长

* 对每个云团，计算所有时刻 $t$ 满足条件的区间 → 遮蔽区间。
* 多个云团时，对遮蔽区间并集求总长度。
* 遮蔽时间可不连续。

---

## 数据


### 烟幕干扰弹投放策略题目原始参数/数据表

| 参数类别 | 参数名称 | 参数值/描述 | 备注 |
| :--- | :--- | :--- | :--- |
| **通用参数** | 烟幕云团下沉速度 | $3$ m/s | 匀速下沉 |
| | 有效遮蔽半径 | $10$ m | 以云团中心为球心 |
| | 有效遮蔽持续时间 | $20$ s | 从起爆开始计时 |
| | 无人机投弹最小间隔 | $\geq 1$ s | |
| | 无人机速度范围 | $70 \sim 140$ m/s | 等高速匀速直线飞行 |
| **目标信息** | 假目标位置 | $(0, 0, 0)$ | 坐标原点 |
| | 真目标位置 | $(0, 200, 0)$ | 圆柱体下底面圆心，半径$7$m，高$10$m |
| | 导弹飞行速度 | $300$ m/s | 飞行方向直指假目标 |
| **初始位置 (警戒雷达发现时)** | 导弹 $M_1$ | $(20000, 0, 2000)$ | |
| | 导弹 $M_2$ | $(19000, 600, 2100)$ | |
| | 导弹 $M_3$ | $(18000, -600, 1900)$ | |
| | 无人机 $FY_1$ | $(17800, 0, 1800)$ | |
| | 无人机 $FY_2$ | $(12000, 1400, 1400)$ | |
| | 无人机 $FY_3$ | $(6000, -3000, 700)$ | |
| | 无人机 $FY_4$ | $(11000, 2000, 1800)$ | |
| | 无人机 $FY_5$ | $(13000, -2000, 1300)$ | |
| **问题1特定参数** | 所用无人机 | $FY_1$ | |
| | 无人机飞行速度 | $120$ m/s | |
| | 无人机飞行方向 | 朝向假目标 | |
| | 受领任务后投放延迟 | $1.5$ s | |
| | 投放后起爆延迟 | $3.6$ s | |